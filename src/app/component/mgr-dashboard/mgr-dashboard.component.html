
<h3>Welcome {{ currentUser.roles.roleNames }} {{
	currentUser.username }}</h3>
<section class="row">
	<div class="col-md-12">
		<form [formGroup]="oppoSuitsForm" (ngSubmit)="onSubmit()">
			<h6>Filter</h6>
			<div>
				<select formControlName="selectedleadName" class="col-md-2">
					<option disabled>Select Lead Name </option>
					<option>Lead Name</option>
					<option *ngFor="let suit of leadName">{{suit}}</option>
				</select>
				<select formControlName="year" class="col-md-2">
					<option disabled>Select Year</option>
					<option>year</option>
					<option *ngFor="let suit of oppoSuits">{{suit}}</option>
				</select>
				<select formControlName="month" class="col-md-2">
					<option disabled>Select Month</option>
					<option>month</option>
					<option *ngFor="let suit of month">{{suit}}</option>
				</select>
				<button class="col-md-2" type="submit" (click)='ClearFilter()'>ClearFilter</button>
				<button class="col-md-2">Submit</button>
				<br>
			</div>
		</form>
	</div>
</section>

<section class="row">
	<div class="row">
		<div class="col-md-12">
			<table id="customers" style="overflow-x:auto;">
				<thead>
					<tr>
						<th>Role</th>
						<th>Technology</th>
						<th>Level</th>
						<th>Location</th>
						<th>Name</th>
						<th>Person Responsible for updating data</th>
						<th>Emp. Code</th>
						<th>WFH</th>
						<th>wfhDates</th>
						<th>leaveCount</th>
						<th>leaveDates</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let employeeInformationDto of employeeInformationDtos ; let id = index">
						<td>{{ employeeInformationDto.designationRole }}</td>
						<td>{{ employeeInformationDto.level }}</td>
						<td>{{ employeeInformationDto.level }}</td>
						<td>{{ employeeInformationDto.location }}</td>
						<td>{{ employeeInformationDto.firstName }} {{
							employeeInformationDto.lastName }}</td>
						<td>{{ employeeInformationDto.lead }}</td>
						<td>{{ employeeInformationDto.employee_Id }}</td>
						<td>{{ employeeInformationDto.wfhCount }}</td>
						<td>
							<div style="overflow: auto; max-height: 200px;">
								<div *ngFor="let da of employeeInformationDto.wfhDates ">
									{{da}}
								</div>
							</div>
						</td>
						<td>{{ employeeInformationDto.leaveCount }}</td>
						<td>
							<div style="overflow: auto; max-height: 200px;">
								<div *ngFor="let leave of employeeInformationDto.leaveDates">
									{{leave}}
									<hr>
								</div>
							</div>
						</td>
						<td>
							<div>
								<button mat-raised-button (click)="addLeaves(employeeInformationDto)">Add</button> | 
								<button mat-raised-button (click)="deleteLeave(employeeInformationDto)">Delete</button>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<button class="btn btn-primary btn-round" type="submit" (click)='updateData( )'>updateEmployee</button>
		</div>
		<div *ngIf="dialogValue">
			<b>Value From Dialog</b>: {{dialogValue}}
		</div>
	</div>

	<ng-template #editProfileModal let-modal>
		<div class="modal-header">
			<h5 class="modal-title" id="editProfileLabel">Edit Profile</h5>
			<button type="button" class="close" (click)="modal.dismiss()" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">
			<label>EmployeeName</label>{{empDetails.employee_Id}}
			<form [formGroup]="editProfileForm" (ngSubmit)="updateEmployee()">
				<div class="form-group row">
					<label for="firstname" class="col-sm-4 col-form-label">First Name</label>
					<div class="col-sm-8">
						<input type="number" class="form-control" formControlName="firstname" id="firstname">
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Select Date</label>
					<mat-form-field>
						<input matInput [matDatepicker]="picker" placeholder="Choose a date">
						<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
						<mat-datepicker #picker></mat-datepicker>
					</mat-form-field>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Close</button>
					<button type="submit" class="btn btn-primary">Save changes</button>
				</div>
			</form>
		</div>
	</ng-template>
</section>

<br> <br>
<button class="btn btn-primary btn-round" type="submit" (click)='downloadFile1()'>DownloadNewReport</button>
<br>